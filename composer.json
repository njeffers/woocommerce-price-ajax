{
    "name": "wordpress-shuttle/wordpress-shuttle",
    "type": "wordpress-theme",
    "authors": [
        {
            "name": "njeffers",
            "email": "nicksk888@gmail.com"
        }
    ],
    "config": {
        "vendor-dir": "includes/vendor"
    },
    "repositories": {
        "redux-vendor-support": {
            "type": "vcs",
            "url": "https://github.com/WebsitesDepot/redux-vendor-support"
        },
        "cmb2-attached-posts": {
            "type": "vcs",
            "url": "https://github.com/njeffers/cmb2-attached-posts"
        }
    },
    "require": {
        "redux-framework/redux-framework": "^3.6",
        "redux-framework/redux-vendor-support": "dev-master",
        "cmb2/cmb2": "^2.3",
        "webdevstudios/cmb2-attached-posts": "dev-master",
        "yahnis-elsts/plugin-update-checker": "dev-master",
        "stackadroit/cmb2-extensions": "dev-master"
    },
    "extra": {
        "installer-paths": {
            "includes/vendor/{$name}": [
                "redux-framework/redux-framework",
                "redux-framework/redux-vendor-support",
                "cmb2/cmb2",
                "webdevstudios/cmb2-attached-posts",
                "stackadroit/cmb2-extensions",
                "yahnis-elsts/plugin-update-checker"
            ]
        }
    },

    "scripts": {

        "docker-up": [
            "docker-compose up -d"
        ],


        "install-wp": [
            "docker-compose run --rm wp-cli install-wp"
        ],

        "kill-containers": [
            "docker stop $(docker ps -aq) && docker rm $(docker ps -aq)"
        ],

        "kill-remove-containers": [
            "docker stop $(docker ps -aq) && docker rm $(docker ps -aq) && docker rmi -f $(docker images -q)"
        ],

        "do-it": [
            "@docker-up",
            "echo 'Images are started. Lets give the environment some time to boot up. Care for a coffee?'",
            "sleep 60s",
            "docker-compose run --rm wp-cli install-wp"
        ],

        "wp-logs": [
            "docker-compose logs wordpress"
        ],

        "install-wp-test": [
            "docker-compose run --rm wp-cli wp scaffold theme-tests wordpress-shuttle --force",
            "docker-compose -f docker-compose.yml -f docker-compose.phpunit.yml up -d",
            "docker-compose -f docker-compose.phpunit.yml run --rm wordpress_phpunit /app/bin/install-wp-tests.sh wordpress_test root '' mysql_phpunit latest true",
            "@testdox"
        ],

        "testdox": [
            "docker-compose -f docker-compose.phpunit.yml run --rm wordpress_phpunit phpunit --testdox"
        ],


        "test": [
            "docker-compose -f docker-compose.phpunit.yml run --rm wordpress_phpunit phpunit"
        ]

    }
}
